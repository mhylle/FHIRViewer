<div class="container">
  <div>
    <div class="bottomMargin">
      <button (click)="setLayout('table')" mat-icon-button title="Show as list">
        <mat-icon>
          <fa name="list-alt"></fa>
        </mat-icon>
      </button>
      <button (click)="setLayout('dependencyGraph')" mat-icon-button title="Show as grid">
        <mat-icon>
          <fa name="th"></fa>
        </mat-icon>
      </button>
    </div>
    <div class="bottomMargin">
      {{selectedServer}} has {{(bundle$ |async)?.length}} resources.
    </div>
    <div class="table" *ngIf="layoutMode === 'table'">
      <div class="header userListHeader">
        <div class="headerItem">Name</div>
        <div class="headerItem">Action</div>
      </div>
      <div *ngFor="let resourceType of (bundle$ |async)" class="table_row userList">
        <div>{{resourceType.resource.id}}</div>
        <div>
          <span class="actionItem" title="Display the structure definition for {{resourceType.resource.id}}">
          <a (click)="setContext(resourceType.resource.id)"
             routerLink="/StructureDefinition/{{resourceType.resource.id}}">
            <span>StructureDefinition</span>
          </a>
          </span>
          <span class="actionItem" title="Display the capability statement for {{resourceType.resource.id}}">
          <a (click)="setContext(resourceType.resource.id)"
             routerLink="/CapabilityStatement/{{resourceType.resource.id}}">
            <span>CapabilityStatement</span>
          </a>
        </span>
        </div>
      </div>
    </div>
    <app-dependency-viewer *ngIf="layoutMode==='dependencyGraph'"></app-dependency-viewer>
  </div>
  <div class="serverDescription">
    <!--suppress HtmlUnknownAttribute -->
    <div innerHTML="{{serverDescription}}"></div>
  </div>
</div>
